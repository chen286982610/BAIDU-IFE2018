<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div>
        <label>Number A:
            <input id="radio-a" type="radio" name="math-obj" value="a">
        </label>
        <input id="num-a" type="text">
        <label>Number B:
            <input id="radio-b" type="radio" name="math-obj" value="b">
        </label>
        <input id="num-b" type="text">
    </div>
    <div>
        <button>判断当前选中的输入框输入内容是否为数字</button>
        <button>把 A 四舍五入为 B 个小数位数的数字</button>
        <button>当前选中数字的绝对值</button>
        <button>对当前选中的数字进行上舍入</button>
        <button>对当前选中的数字进行下舍入</button>
        <button>把当前选中的数字四舍五入为最接近的整数</button>
        <button>返回 A 和 B 中的最高值</button>
        <button>返回 A 和 B 中的最低值</button>
    </div>
    <p id="result"></p>
    <script>
        let text = document.querySelector("#result"),
            btnList = document.querySelectorAll("button"),
            heap_a = new Object(),
            heap_b = new Object();

        function obtainNum() {
            let num_a = document.querySelector("#num-a").value,
                num_b = document.querySelector("#num-b").value,
                a = document.querySelector("#radio-a"),
                b = document.querySelector("#radio-b");

            if (!isNaN(num_a) && num_a) {
                heap_a.isNum = true;
                heap_a.value = num_a;
            } else {
                heap_a.isNum = false;
            }

            if (!isNaN(num_b) && num_b) {
                heap_b.isNum = true;
                heap_b.value = num_b;
            } else {
                heap_b.isNum = false;
            }

            if (a.checked) {
                heap_a.checked = true;
            } else {
                heap_a.checked = false;
            }

            if (b.checked) {
                heap_b.checked = true;
            } else {
                heap_b.checked = false;
            }
        }

        function formatFloat(value, num) {
            let x = Math.round(value * Math.pow(10, num)) / Math.pow(10, num),
                y = x.toString(),
                z = y.indexOf(".");
            if (z < 0) {
                y += ".";
            }
            // console.log(x, y, z);
            for (let i = y.length - y.indexOf("."); i <= num; i++) {
                y += "0";
            }
            return y;
        }

        btnList[0].onclick = function () {
            text.innerText = "";
            obtainNum();
            if (heap_a.checked) {
                if (heap_a.isNum) {
                    text.innerText = "输入内容为数值。";
                } else {
                    text.innerText = "输入内容不是数值。";
                }
            } else if (heap_b.checked) {
                if (heap_b.isNum) {
                    text.innerText = "输入内容为数值。";
                } else {
                    text.innerText = "输入内容不是数值。";
                }
            } else if (!heap_a.checked && !heap_b.checked) {
                text.innerText = "请选择输入框后再点击！";
            }
        }

        btnList[1].onclick = function () {
            text.innerText = "";
            obtainNum();
            if (!heap_a.isNum) {
                console.log("Number A输入的不是数字.");
            }
            if (!heap_b.isNum) {
                console.log("Number B输入的不是数字.");
            }
            if (heap_a.isNum && heap_b.isNum) {
                let a = heap_a.value,
                    b = heap_b.value,
                    c = formatFloat(a, b);
                // console.log(c);
                text.innerText = c;
            }
        }

        btnList[2].onclick = function () {
            text.innerText = "";
            obtainNum();
            if (heap_a.checked) {
                if (heap_a.isNum) {
                    text.innerText = "当前输入框内数值的绝对值为：" + Math.abs(heap_a.value);
                } else {
                    console.log("Number A输入的不是数字.");
                    text.innerText = "Number A输入的不是数字.";
                }
            } else if (heap_b.checked) {
                if (heap_b.isNum) {
                    text.innerText = "当前输入框内数值的绝对值为：" + Math.abs(heap_b.value);
                } else {
                    console.log("Number B输入的不是数字.");
                    text.innerText = "Number B输入的不是数字.";
                }
            } else if (!heap_a.checked && !heap_b.checked) {
                text.innerText = "请选择输入框后再点击！";
            }
        }

        btnList[3].onclick = function () {
            text.innerText = "";
            obtainNum();
            if (heap_a.checked) {
                if (heap_a.isNum) {
                    text.innerText = "当前输入框内数值上舍入后值为：" + Math.ceil(heap_a.value);
                } else {
                    console.log("Number A输入的不是数字.");
                    text.innerText = "Number A输入的不是数字.";
                }
            } else if (heap_b.checked) {
                if (heap_b.isNum) {
                    text.innerText = "当前输入框内数值上舍入后值为" + Math.ceil(heap_b.value);
                } else {
                    console.log("Number B输入的不是数字.");
                    text.innerText = "Number B输入的不是数字.";
                }
            } else if (!heap_a.checked && !heap_b.checked) {
                text.innerText = "请选择输入框后再点击！";
            }
        }

        btnList[4].onclick = function () {
            text.innerText = "";
            obtainNum();
            if (heap_a.checked) {
                if (heap_a.isNum) {
                    text.innerText = "当前输入框内数值下舍入后值为：" + Math.floor(heap_a.value);
                } else {
                    console.log("Number A输入的不是数字.");
                    text.innerText = "Number A输入的不是数字.";
                }
            } else if (heap_b.checked) {
                if (heap_b.isNum) {
                    text.innerText = "当前输入框内数值下舍入后值为" + Math.floor(heap_b.value);
                } else {
                    console.log("Number B输入的不是数字.");
                    text.innerText = "Number B输入的不是数字.";
                }
            } else if (!heap_a.checked && !heap_b.checked) {
                text.innerText = "请选择输入框后再点击！";
            }
        }

        btnList[5].onclick = function () {
            text.innerText = "";
            obtainNum();
            if (heap_a.checked) {
                if (heap_a.isNum) {
                    text.innerText = "当前输入框内数值四舍五入后值为：" + Math.round(heap_a.value);
                } else {
                    console.log("Number A输入的不是数字.");
                    text.innerText = "Number A输入的不是数字.";
                }
            } else if (heap_b.checked) {
                if (heap_b.isNum) {
                    text.innerText = "当前输入框内数值四舍五入后值为：" + Math.round(heap_b.value);
                } else {
                    console.log("Number B输入的不是数字.");
                    text.innerText = "Number B输入的不是数字.";
                }
            } else if (!heap_a.checked && !heap_b.checked) {
                text.innerText = "请选择输入框后再点击！";
            }
        }

        btnList[6].onclick = function () {
            text.innerText = "";
            obtainNum();
            if (!heap_a.isNum) {
                console.log("Number A输入的不是数字.");
            }
            if (!heap_b.isNum) {
                console.log("Number B输入的不是数字.");
            }
            if (heap_a.isNum && heap_b.isNum) {
                if (heap_a.value > heap_b.value) {
                    text.innerText = "A";
                } else if (heap_a.value < heap_b.value) {
                    text.innerText = "B";
                } else if (heap_a.value === heap_b.value) {
                    text.innerText = "两者相等";
                }
            }
        }

        btnList[7].onclick = function () {
            text.innerText = "";
            obtainNum();
            if (!heap_a.isNum) {
                console.log("Number A输入的不是数字.");
            }
            if (!heap_b.isNum) {
                console.log("Number B输入的不是数字.");
            }
            if (heap_a.isNum && heap_b.isNum) {
                if (heap_a.value > heap_b.value) {
                    text.innerText = "B";
                } else if (heap_a.value < heap_b.value) {
                    text.innerText = "A";
                } else if (heap_a.value === heap_b.value) {
                    text.innerText = "两者相等";
                }
            }
        }
    </script>
</body>

</html>